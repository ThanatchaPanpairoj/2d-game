import java.awt.Graphics2D;
import java.awt.geom.Ellipse2D;
import java.awt.Color;

/**
 * Write a description of class ProjectileObject here.
 * 
 * @author (your name) 
 * @version (a version number or a date)
 */
public class ProjectileObject
{
    private int fWidth, fHeight;
    private double currentX, currentY, finalX, finalY, xSpeed, ySpeed;
    private boolean existing;
    private Ellipse2D projectile;

    /**
     *Constructs an projectile object with a given starting point and ending point. 
     *Calculates the angle and sets the vertical and horizontal speed of the projectile
     *@param startingX the x coordinate of the center of the user
     *@param startingY the y coordinate of the center of the user
     *@param startingX the x coordinate of the mouse
     *@param startingY the y coordinate of the mouse
     *@param pixelsPerSecond the speed of the projectile
     */
    public ProjectileObject(int frameWidth, int frameHeight, double startingX, double startingY, double endingX, double endingY, double pixelsPerSecond) {
        fWidth = frameWidth;
        fHeight = frameHeight;

        currentX = startingX;
        currentY = startingY;

        finalX = endingX;
        finalY = endingY;

        existing = true;
     

        double angle = Math.atan(Math.abs(endingY - startingY) / Math.abs(endingX - startingX));
        if(finalX > currentX)
            xSpeed = Math.cos(angle) * pixelsPerSecond;
        else
            xSpeed = -Math.cos(angle) * pixelsPerSecond;
        if(finalY > currentY)
            ySpeed =  Math.sin(angle) * pixelsPerSecond;
        else
            ySpeed = -Math.sin(angle) * pixelsPerSecond;
    }

    public void draw(Graphics2D g2) {
        if(existing && currentX > 0 && currentX < fWidth && currentY > 0 && currentY < fHeight) {
            projectile = new Ellipse2D.Double(currentX - 10, currentY - 10, 20, 20);
            g2.setPaint(Color.GREEN);
            g2.fill(projectile);
            g2.draw(projectile);
        } else 
            existing = false;
    }

    public void move() {
        if(existing) {
            currentX += xSpeed;
            currentY += ySpeed;
        }
    }
}
